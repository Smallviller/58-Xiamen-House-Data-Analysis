
<!DOCTYPE html>
<html lang="en">
<head>
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=fwTTTgEL9Mm8k9acMT2kgtbBGkicin6Y"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
		ul,li{list-style: none;margin:0;padding:0;float:left;}
		html{height:100%}
		body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
		#container{height:100%;width:100%;}
		#r-result{width:100%;}
    </style>
</head>
<body>
	<div id="container"></div>
	<div id="r-result" style="display:none">
		<input type="button"  οnclick="openHeatmap();" value="显示热力图"/><input type="button"  οnclick="closeHeatmap();" value="关闭热力图"/>
	</div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例
 
    var point = new BMap.Point(118.07,24.57);
    map.centerAndZoom(point, 10);             // 初始化地图，设置中心点坐标和地图级别
	map.setCurrentCity("厦门");		//设置当前显示城市
    map.enableScrollWheelZoom(); // 允许滚轮缩放
 
	
	
    var points =[
    {'lat': 24.578646049549096, 'lng': 118.07203204245997, 'count': 34834.0},
    {'lat': 24.498834999958202, 'lng': 118.15427101356578, 'count': 39656.0},
    {'lat': 24.49893216546385, 'lng': 118.1528762146009, 'count': 41467.0},
    {'lat': 24.46424829340232, 'lng': 118.11459068889704, 'count': 65117.0},
    {'lat': 24.46738399630626, 'lng': 118.11008399435842, 'count': 70000.0},
    {'lat': 24.511814636048154,'lng': 118.11647346178768,'count': 41036.666666666664},
    {'lat': 24.640184980283376, 'lng': 118.08435742286666, 'count': 22231.5},
    {'lat': 24.498796035089427, 'lng': 118.16920597147809, 'count': 60004.0},
    {'lat': 24.5690117680447, 'lng': 118.06919887671297, 'count': 31045.0},
    {'lat': 24.5690117680447, 'lng': 118.06919887671297, 'count': 34736.5},
    {'lat': 24.665013728950377, 'lng': 118.2681062640247, 'count': 22159.0},
    {'lat': 24.450887515274797, 'lng': 118.09882307813324, 'count': 65313.0},
    {'lat': 24.52089553921978,'lng': 118.1180680438979,'count': 35375.333333333336},
    {'lat': 24.495487840322554, 'lng': 118.176446134225, 'count': 81893.0},
    {'lat': 24.608064048087193, 'lng': 118.08336901731434, 'count': 36757.0},
    {'lat': 24.471979227514122, 'lng': 118.1296576222616, 'count': 52944.0},
    {'lat': 24.50238634163594, 'lng': 118.13856629766222, 'count': 46578.5},
    {'lat': 24.47632812498813, 'lng': 118.11734077575727, 'count': 65902.2},
    {'lat': 24.49919201294473,'lng': 118.13533500291334,'count': 50764.857142857145},
    {'lat': 24.51325617706593, 'lng': 118.14951646216413, 'count': 65848.0},
    {'lat': 24.477982447033096, 'lng': 118.13379665472802, 'count': 55854.0},
    {'lat': 24.60333570149504, 'lng': 118.1230035140292, 'count': 29668.0},
    {'lat': 24.51555498037055, 'lng': 118.15100998490453, 'count': 63590.0},
    {'lat': 24.45933003076811, 'lng': 118.08450052293435, 'count': 94890.0},
    {'lat': 24.58942418658056, 'lng': 118.0346772654676, 'count': 24683.375},
    {'lat': 24.58879997004992, 'lng': 118.03513432331091, 'count': 23980.5},
    {'lat': 24.499534885838038, 'lng': 118.14108613444743, 'count': 52233.0},
    {'lat': 24.730463057668263, 'lng': 118.15682660291027, 'count': 14913.0},
    {'lat': 24.590348224987174, 'lng': 118.06411294040882, 'count': 37104.0},
    {'lat': 24.590348224987174, 'lng': 118.06411294040882, 'count': 43479.0},
    {'lat': 24.590348224987174,'lng': 118.06411294040882,'count': 37910.666666666664},
    {'lat': 24.60029083286118, 'lng': 118.05341385229687, 'count': 39153.5},
    {'lat': 24.60029083286118, 'lng': 118.05341385229687, 'count': 37162.0},
    {'lat': 24.60029083286118, 'lng': 118.05341385229687, 'count': 37670.0},
    {'lat': 24.54531360612671, 'lng': 118.17630060873245, 'count': 85851.0},
    {'lat': 24.664343100134385, 'lng': 118.24727042704984, 'count': 23788.8},
    {'lat': 24.59262596786862, 'lng': 118.11523541713423, 'count': 28572.0},
    {'lat': 24.586310054905493, 'lng': 118.1067800266938, 'count': 30000.0},
    {'lat': 24.6055120167303,'lng': 117.99036897501642,'count': 21084.166666666668},
    {'lat': 22.325722838593258, 'lng': 114.19855413556934, 'count': 75419.0},
    {'lat': 24.517575932638454, 'lng': 118.16151162546545, 'count': 61219.0},
    {'lat': 24.478211917630215, 'lng': 118.1515556156711, 'count': 37957.0},
    {'lat': 24.45194839567105, 'lng': 118.08840797224036, 'count': 63295.0},
    {'lat': 24.539626980861055, 'lng': 118.17349358367578, 'count': 79650.0},
    {'lat': 24.46867747315496, 'lng': 118.09390757823172, 'count': 81314.5},
    {'lat': 24.50865729209679, 'lng': 118.11722597231312, 'count': 39888.0},
    {'lat': 24.731283888499068, 'lng': 118.14930823494699, 'count': 14180.0},
    {'lat': 24.478197529482678,'lng': 118.12002194821201,'count': 67799.66666666667},
    {'lat': 24.57952925722561, 'lng': 118.11465376431671, 'count': 49757.0},
    {'lat': 24.4837846098375, 'lng': 118.17130998264285, 'count': 45612.0},
    {'lat': 24.640333189912376, 'lng': 118.15857758000973, 'count': 34223.0},
    {'lat': 24.515287112137614, 'lng': 118.1046735002736, 'count': 31804.0},
    {'lat': 24.51543999189945, 'lng': 118.1017474497369, 'count': 47059.0},
    {'lat': 24.47818330576947, 'lng': 118.12653044112132, 'count': 57404.5},
    {'lat': 24.465921449276397, 'lng': 118.08658162730862, 'count': 67764.0},
    {'lat': 24.510543965173625, 'lng': 118.11460804056627, 'count': 35134.0},
    {'lat': 24.571017636754057, 'lng': 118.05159999381172, 'count': 23010.0},
    {'lat': 24.497998978891594, 'lng': 118.13494702476372, 'count': 53613.5},
    {'lat': 24.726730686238938, 'lng': 118.17049539920667, 'count': 20527.0},
    {'lat': 24.592297152080494, 'lng': 118.02690144314523, 'count': 22288.5},
    {'lat': 24.485406605176305, 'lng': 118.09643549976651, 'count': 49934.0},
    {'lat': 24.533672841699406, 'lng': 118.11718087737654, 'count': 59698.0},
    {'lat': 24.475362045337377, 'lng': 118.17717995999587, 'count': 42948.0},
    {'lat': 24.472806050188154, 'lng': 118.18108803811573, 'count': 43452.0},
    {'lat': 24.473089056448888, 'lng': 118.18058103448607, 'count': 50726.0},
    {'lat': 24.51851924614335, 'lng': 118.1533734267005, 'count': 30805.0},
    {'lat': 24.474086233172052, 'lng': 118.11656607708572, 'count': 63510.0},
    {'lat': 24.470025861801812, 'lng': 118.08362081234871, 'count': 71840.0},
    {'lat': 24.489504456010824, 'lng': 118.1506029626781, 'count': 35551.0},
    {'lat': 24.47503653647087, 'lng': 118.101212688467, 'count': 53839.0},
    {'lat': 24.46902741919382, 'lng': 118.08312899008216, 'count': 55489.0},
    {'lat': 24.481991338617846, 'lng': 118.17986418668934, 'count': 59771.5},
    {'lat': 24.728058050879135, 'lng': 118.14339199486022, 'count': 24224.5},
    {'lat': 24.726684408323617, 'lng': 118.15634241624055, 'count': 15709.5},
    {'lat': 24.724815471655894, 'lng': 118.15753644392402, 'count': 21895.0},
    {'lat': 24.473625549700753, 'lng': 118.11448102016719, 'count': 64981.0},
    {'lat': 24.57608675729341, 'lng': 118.0531994267717, 'count': 26667.0},
    {'lat': 24.507638774284587, 'lng': 118.11130793561536, 'count': 41667.0},
    {'lat': 24.509819071168852, 'lng': 118.10614896707325, 'count': 42118.0},
    {'lat': 24.50756019246503, 'lng': 118.11117193216118, 'count': 37753.0},
    {'lat': 24.508784863104445, 'lng': 118.11111210501424, 'count': 52531.0},
    {'lat': 24.485690815979243, 'lng': 118.11574763093584, 'count': 75122.0},
    {'lat': 24.48462245294096, 'lng': 118.14732360858444, 'count': 52554.0},
    {'lat': 24.470614086532336, 'lng': 118.10997835363048, 'count': 61449.0},
    {'lat': 24.47985437540257, 'lng': 118.12762430774045, 'count': 45020.0},
    {'lat': 24.728315284071332, 'lng': 118.16888042556137, 'count': 20936.0},
    {'lat': 24.730124434637215, 'lng': 118.14389109340141, 'count': 31786.0},
    {'lat': 24.610584160243082, 'lng': 117.99668298478286, 'count': 23800.2},
    {'lat': 24.472738381832354, 'lng': 118.17825666897977, 'count': 45221.0},
    {'lat': 24.732372769086965,'lng': 118.16439374886271,'count': 35345.333333333336},
    {'lat': 24.67849334211265,'lng': 118.2098312991701,'count': 44392.333333333336},
    {'lat': 24.50301189730861, 'lng': 118.04721249004133, 'count': 21675.0},
    {'lat': 24.718387990249408, 'lng': 118.14676396425193, 'count': 15033.0},
    {'lat': 24.5014937068753, 'lng': 118.14535398392393, 'count': 37873.0},
    {'lat': 24.617083864462188, 'lng': 118.13317646460413, 'count': 16251.0},
    {'lat': 24.501666743214685, 'lng': 118.0999496709204, 'count': 43677.0},
    {'lat': 24.73045436031107, 'lng': 118.15101618321255, 'count': 15667.0},
    {'lat': 24.49373403310971, 'lng': 118.1298523748961, 'count': 54666.4},
    {'lat': 24.502844123750513, 'lng': 118.14100798186807, 'count': 57841.0},
    {'lat': 24.484400228987873, 'lng': 118.16064098776548, 'count': 46599.0},
    {'lat': 24.48682115792735, 'lng': 118.16121239990018, 'count': 49673.0},
    {'lat': 24.478414009263965,'lng': 118.11870898487906,'count': 62947.333333333336},
    {'lat': 24.709628252503546, 'lng': 118.12968079854376, 'count': 38004.0},
    {'lat': 24.503834157092395, 'lng': 118.13710080205372, 'count': 49574.5},
    {'lat': 24.594174914231974, 'lng': 118.11501290685948, 'count': 34243.0},
    {'lat': 24.58706514250839, 'lng': 118.05687816749496, 'count': 35879.5},
    {'lat': 24.587993059349124, 'lng': 118.26672404133696, 'count': 35639.0},
    {'lat': 24.475286567479504, 'lng': 118.10608599585703, 'count': 66504.0},
    {'lat': 24.54113410451201,'lng': 118.17267765278135,'count': 93395.33333333333},
    {'lat': 24.609460037558428, 'lng': 118.25325098581109, 'count': 64251.75},
    {'lat': 24.478324885085136, 'lng': 118.11937804282267, 'count': 32711.0},
    {'lat': 24.508167309708874, 'lng': 118.15029295744671, 'count': 50669.0},
    {'lat': 24.46426277336534, 'lng': 118.10495260379547, 'count': 61285.0},
    {'lat': 24.74488989584064, 'lng': 118.16007191122509, 'count': 14583.0},
    {'lat': 24.478965607581802, 'lng': 118.12520364388351, 'count': 82480.0},
    {'lat': 24.595752343851935, 'lng': 118.03048092110966, 'count': 24292.0},
    {'lat': 24.595752343851935, 'lng': 118.03048092110966, 'count': 23731.0},
    {'lat': 24.595752343851935, 'lng': 118.03048092110966, 'count': 22595.0},
    {'lat': 24.591043816244056, 'lng': 118.03130646387307, 'count': 24108.0},
    {'lat': 24.5912072812652, 'lng': 118.02912699504546, 'count': 26339.5},
    {'lat': 24.45093854181213, 'lng': 118.08950758801475, 'count': 55422.0},
    {'lat': 24.485406605176305, 'lng': 118.09643549976651, 'count': 88919.0},
    {'lat': 24.516391047740864, 'lng': 118.15867801056572, 'count': 47910.0},
    {'lat': 24.503218880739524, 'lng': 118.13886866729679, 'count': 36511.5},
    {'lat': 24.49784237845019, 'lng': 118.15222790751456, 'count': 38431.0},
    {'lat': 24.49064528615703, 'lng': 118.03527059625672, 'count': 32877.0},
    {'lat': 24.493955171690107, 'lng': 118.05667245553323, 'count': 37223.0},
    {'lat': 24.485923560876987, 'lng': 118.03624606620969, 'count': 34205.5},
    {'lat': 24.481713614402178, 'lng': 118.03677813256307, 'count': 38456.0},
    {'lat': 24.47980660737676, 'lng': 118.03682295800802, 'count': 42971.4},
    {'lat': 24.503118677127965, 'lng': 118.1525478839371, 'count': 44243.0},
    {'lat': 24.584598029504313, 'lng': 118.10422596446867, 'count': 30460.0},
    {'lat': 24.478051016936977, 'lng': 118.12463106395163, 'count': 73908.0},
    {'lat': 24.62483327694507, 'lng': 118.2490744041744, 'count': 26197.0},
    {'lat': 24.500298722027193, 'lng': 118.04505134664615, 'count': 29875.0},
    {'lat': 24.619085012406742, 'lng': 118.00604296887154, 'count': 28765.0},
    {'lat': 24.47863361294143, 'lng': 118.12201645593517, 'count': 55028.0},
    {'lat': 24.744764537263414, 'lng': 118.16099950149439, 'count': 14942.0},
    {'lat': 24.48485807731302,'lng': 118.14314208626743,'count': 48785.307692307695},
    {'lat': 24.49768577781157, 'lng': 118.12715916514753, 'count': 59750.0},
    {'lat': 24.49768577781157, 'lng': 118.12715916514753, 'count': 59616.0},
    {'lat': 24.576052006484243, 'lng': 118.10099709514468, 'count': 32084.0},
    {'lat': 24.497323006125715, 'lng': 118.1040289660704, 'count': 45723.0},
    {'lat': 24.72742501698509, 'lng': 118.17268403075046, 'count': 21407.5},
    {'lat': 24.51571303797379, 'lng': 118.15337899619466, 'count': 47483.0},
    {'lat': 24.564965179313734, 'lng': 118.04050942415864, 'count': 25577.0},
    {'lat': 24.509881047757744,'lng': 118.11749501481329,'count': 40519.666666666664},
    {'lat': 24.510347350730505, 'lng': 118.11722678078809, 'count': 43056.0},
    {'lat': 24.478915208254342, 'lng': 118.13214413191241, 'count': 50000.0},
    {'lat': 24.470251482574955, 'lng': 118.11224163436212, 'count': 64838.0},
    {'lat': 24.633808020744667, 'lng': 118.14599124185249, 'count': 21522.0},
    {'lat': 24.49916636525802, 'lng': 118.1448981837083, 'count': 43871.0},
    {'lat': 24.495273198797534, 'lng': 118.0581031867185, 'count': 41653.0},
    {'lat': 24.510954207769583, 'lng': 118.10998158753031, 'count': 39345.0},
    {'lat': 24.481351618290613, 'lng': 118.14249108426458, 'count': 40779.0},
    {'lat': 24.522263004922117, 'lng': 118.11834903386132, 'count': 31869.0},
    {'lat': 24.65163477927172, 'lng': 118.17398405848407, 'count': 32979.0},
    {'lat': 24.617117043359986, 'lng': 118.083920037914, 'count': 28495.0},
    {'lat': 24.604713264122605, 'lng': 118.13059239897498, 'count': 29208.0},
    {'lat': 24.607352947318052, 'lng': 118.12651795467472, 'count': 32836.0},
    {'lat': 24.73691148647469, 'lng': 118.1504140490294, 'count': 16848.0},
    {'lat': 24.48917799760985, 'lng': 118.08506097574184, 'count': 44161.5},
    {'lat': 24.46851647791294, 'lng': 118.08969299827194, 'count': 46941.0},
    {'lat': 24.570310184574122, 'lng': 118.05828671053412, 'count': 25690.0},
    {'lat': 24.46557634586163, 'lng': 118.11500661872093, 'count': 55883.0},
    {'lat': 24.469486475205937, 'lng': 118.10876204797037, 'count': 69048.0},
    {'lat': 24.495382615875542, 'lng': 118.04149872801645, 'count': 29097.0},
    {'lat': 24.465192841683585, 'lng': 118.12177238632819, 'count': 46467.5},
    {'lat': 24.463184605730493, 'lng': 118.12314382934981, 'count': 42939.0},
    {'lat': 24.466747901052642, 'lng': 118.10459696464417, 'count': 77242.0},
    {'lat': 24.501133823399066, 'lng': 118.1482373649489, 'count': 64278.0},
    {'lat': 24.49809261024239, 'lng': 118.13630876608585, 'count': 47612.0},
    {'lat': 24.54640807141313, 'lng': 118.17350580063072, 'count': 96309.0},
    {'lat': 24.695698751636048, 'lng': 118.13127205692362, 'count': 20448.0},
    {'lat': 24.501298311156457, 'lng': 118.13853566544434, 'count': 69495.0},
    {'lat': 24.537227378718878, 'lng': 118.19008708305063, 'count': 54074.0},
    {'lat': 24.52777635752039, 'lng': 118.17122293683897, 'count': 85840.0},
    {'lat': 24.504650575201364, 'lng': 118.13761220738039, 'count': 64480.75},
    {'lat': 24.490543017166832, 'lng': 118.12684457855804, 'count': 45575.0},
    {'lat': 24.51409497231613, 'lng': 118.12638159189835, 'count': 41667.0},
    {'lat': 24.491673561652217, 'lng': 118.1434735610005, 'count': 68696.0},
    {'lat': 24.491226096793532, 'lng': 118.14543770599742, 'count': 59800.0},
    {'lat': 24.57106438382936, 'lng': 118.23776285136593, 'count': 23294.0},
    {'lat': 24.57035101661211, 'lng': 118.2398659642252, 'count': 28631.0},
    {'lat': 24.47316149345055, 'lng': 118.1854326927133, 'count': 46661.0},
    {'lat': 24.48074330130852, 'lng': 118.17288228677646, 'count': 51063.0},
    {'lat': 24.512184105476134, 'lng': 118.12816140460468, 'count': 33903.0},
    {'lat': 24.481736059277452, 'lng': 118.0306937296849, 'count': 36273.0},
    {'lat': 24.481736059277452, 'lng': 118.0306937296849, 'count': 30016.0},
    {'lat': 24.4686584793451, 'lng': 118.04021702571524, 'count': 30435.0},
    {'lat': 24.465784296068104, 'lng': 118.04222851141252, 'count': 32428.0},
    {'lat': 24.49452207385325, 'lng': 118.03903198108686, 'count': 36129.0},
    {'lat': 24.48033205465225, 'lng': 118.03422730423779, 'count': 35003.0},
    {'lat': 24.462771656502536, 'lng': 118.04249396069063, 'count': 32873.0},
    {'lat': 24.475185601384553, 'lng': 118.11732307913873, 'count': 60706.0},
    {'lat': 24.51408001295999, 'lng': 118.13136098916905, 'count': 41229.0},
    {'lat': 24.586727768753516, 'lng': 118.0528465723675, 'count': 29177.0},
    {'lat': 24.587942047104285, 'lng': 118.05480101566492, 'count': 38657.5},
    {'lat': 24.516721873081188, 'lng': 118.1157302936395, 'count': 39646.6},
    {'lat': 24.675642983903174, 'lng': 118.19546999915627, 'count': 25231.6},
    {'lat': 24.595345913689368, 'lng': 118.09544269251722, 'count': 38415.0},
    {'lat': 24.6966216670287, 'lng': 118.1201987347363, 'count': 41799.0},
    {'lat': 24.595345913689368, 'lng': 118.09544269251722, 'count': 40087.5},
    {'lat': 24.73659905401384, 'lng': 118.14485407690778, 'count': 20460.0},
    {'lat': 24.52460199553011,'lng': 118.12178900498012,'count': 38386.36363636364},
    {'lat': 24.58320783859523, 'lng': 118.11220121061417, 'count': 27791.0},
    {'lat': 24.499899870568967, 'lng': 118.15478960533652, 'count': 36523.0},
    {'lat': 24.470896193325196, 'lng': 118.1028309858427, 'count': 64213.0},
    {'lat': 24.598500640843568, 'lng': 118.10583563811147, 'count': 23479.0},
    {'lat': 24.472033000754752, 'lng': 118.11290197874229, 'count': 81664.5},
    {'lat': 24.483665399046362, 'lng': 118.14124504469208, 'count': 55043.0},
    {'lat': 24.475288951856978, 'lng': 118.1047334172511, 'count': 59950.0},
    {'lat': 24.491094150666214, 'lng': 118.0868165341994, 'count': 36471.0},
    {'lat': 24.49998059452468, 'lng': 118.14250581647492, 'count': 42084.0},
    {'lat': 24.496463052972693, 'lng': 118.03928296764627, 'count': 25542.0},
    {'lat': 24.45743649578831, 'lng': 118.04171495015264, 'count': 26849.0},
    {'lat': 24.592424144242067, 'lng': 118.11707658410688, 'count': 34214.25},
    {'lat': 24.592424144242067, 'lng': 118.11707658410688, 'count': 36378.0},
    {'lat': 24.592424144242067, 'lng': 118.11707658410688, 'count': 36655.0},
    {'lat': 24.540176006596134, 'lng': 117.99931897247046, 'count': 27296.0},
    {'lat': 24.4943785399942, 'lng': 118.1411671616044, 'count': 50902.6},
    {'lat': 24.438071892665274, 'lng': 118.12943421368136, 'count': 58684.0},
    {'lat': 24.60758447849772, 'lng': 118.13257972025406, 'count': 28088.0},
    {'lat': 24.483910726508757, 'lng': 118.19298860984689, 'count': 84469.0},
    {'lat': 24.480080964962, 'lng': 118.19255230286085, 'count': 83334.0},
    {'lat': 24.535163355049473, 'lng': 117.96907625985935, 'count': 28522.0},
    {'lat': 24.540948303615963, 'lng': 118.00376765084607, 'count': 30910.0},
    {'lat': 24.53788842443217, 'lng': 117.99692840184811, 'count': 28427.0},
    {'lat': 24.498003171341644, 'lng': 118.14879440419546, 'count': 43509.0},
    {'lat': 24.535812988751864, 'lng': 118.03574696766852, 'count': 29895.6},
    {'lat': 24.535365025382475, 'lng': 118.03803701790434, 'count': 27299.0},
    {'lat': 24.563109404521814, 'lng': 118.04762687837294, 'count': 28031.0},
    {'lat': 24.449614782058156, 'lng': 118.09056767834673, 'count': 49330.5},
    {'lat': 24.677743820193456, 'lng': 118.25278278897946, 'count': 19985.5},
    {'lat': 24.49631401355085, 'lng': 118.12209101529245, 'count': 50428.0},
    {'lat': 24.501282610435382, 'lng': 118.09855415331111, 'count': 42244.0},
    {'lat': 24.472396092854197, 'lng': 118.08953606429942, 'count': 55371.0},
    {'lat': 24.51408141026256, 'lng': 118.12873057097562, 'count': 33720.0},
    {'lat': 24.515473280209743, 'lng': 118.12888750494815, 'count': 42945.0},
    {'lat': 24.514756469956215, 'lng': 118.13018546657909, 'count': 40000.0},
    {'lat': 24.477556474158035, 'lng': 118.12246480021506, 'count': 49118.0},
    {'lat': 24.450078926049002,'lng': 118.16446758957562,'count': 97107.66666666667},
    {'lat': 24.650191727901124,'lng': 118.16792319121025,'count': 36017.666666666664},
    {'lat': 24.669353559102078, 'lng': 118.1967793692672, 'count': 30795.5},
    {'lat': 24.66194862423644, 'lng': 118.26453343352105, 'count': 20247.125},
    {'lat': 24.667885020027047, 'lng': 118.25007197244288, 'count': 26432.0},
    {'lat': 24.666861982475872,'lng': 118.2513899662867,'count': 26006.571428571428},
    {'lat': 24.666861982475872, 'lng': 118.2513899662867, 'count': 26663.0},
    {'lat': 24.522276648271347, 'lng': 118.10589959746376, 'count': 35455.0},
    {'lat': 24.49202122338998, 'lng': 118.13797943467274, 'count': 56439.5},
    {'lat': 24.502281369633153, 'lng': 118.15513329702452, 'count': 64830.0},
    {'lat': 24.520442261865277, 'lng': 118.10941574488976, 'count': 30156.0},
    {'lat': 24.462344562610944, 'lng': 118.09367015608551, 'count': 124172.0},
    {'lat': 24.515581200028468, 'lng': 118.12736514660091, 'count': 38910.0},
    {'lat': 24.434434659791442, 'lng': 118.11840742371946, 'count': 65954.0},
    {'lat': 24.46907017569129, 'lng': 118.09246049788618, 'count': 64323.0},
    {'lat': 24.73482076653656, 'lng': 118.13903647076599, 'count': 17166.0},
    {'lat': 24.473466369721976, 'lng': 118.1036302980852, 'count': 52378.5},
    {'lat': 24.478420751127285, 'lng': 118.12123052844474, 'count': 66067.2},
    {'lat': 24.476915086656085, 'lng': 118.12474191485153, 'count': 52686.0},
    {'lat': 24.496467574298205, 'lng': 118.10119606981507, 'count': 41967.0},
    {'lat': 24.584071462544674, 'lng': 118.11512196114836, 'count': 51819.0},
    {'lat': 24.610081521713955, 'lng': 118.10836823083493, 'count': 18071.0},
    {'lat': 24.610081521713955, 'lng': 118.10836823083493, 'count': 24167.0},
    {'lat': 24.616176451006616, 'lng': 118.2477078120025, 'count': 25874.0},
    {'lat': 24.50252148165623, 'lng': 118.13399266499023, 'count': 47511.0},
    {'lat': 24.484394309587472, 'lng': 118.12072042566108, 'count': 44319.5},
    {'lat': 24.484938482178062, 'lng': 118.12009228553342, 'count': 39158.0},
    {'lat': 24.496605844573338, 'lng': 118.13559694879997, 'count': 56032.5},
    {'lat': 24.74874903975949, 'lng': 118.18067697351451, 'count': 19606.0},
    {'lat': 24.568126184958842, 'lng': 118.07212564589408, 'count': 34604.0},
    {'lat': 24.568126184958842, 'lng': 118.07212564589408, 'count': 33947.0},
    {'lat': 24.568126184958842, 'lng': 118.07212564589408, 'count': 31271.0},
    {'lat': 24.481452579383344, 'lng': 118.15665664350784, 'count': 59434.0},
    {'lat': 24.60071088150663, 'lng': 118.25247511934239, 'count': 22135.0},
    {'lat': 24.62764013567481, 'lng': 118.13452976185447, 'count': 22165.68},
    {'lat': 24.485406605176305, 'lng': 118.09643549976651, 'count': 38267.5},
    {'lat': 24.508889665219602, 'lng': 118.12362945330834, 'count': 43935.0},
    {'lat': 24.69509887344232, 'lng': 118.1307559804083, 'count': 21795.0},
    {'lat': 24.753807911695823, 'lng': 118.1743581128983, 'count': 16524.5},
    {'lat': 24.533917988285207, 'lng': 118.04340097976375, 'count': 26602.0},
    {'lat': 24.50734655816678, 'lng': 118.14819900730365, 'count': 44065.5},
    {'lat': 24.505999067191343, 'lng': 118.14949391469584, 'count': 46149.0},
    {'lat': 24.485406605176305, 'lng': 118.09643549976651, 'count': 61497.0},
    {'lat': 24.473451898804722, 'lng': 118.09921027565537, 'count': 52725.0},
    {'lat': 24.480348251317555, 'lng': 118.12804345709127, 'count': 47291.0},
    {'lat': 24.515381059239346, 'lng': 118.15835003922413, 'count': 69557.5},
    {'lat': 24.49665574349932, 'lng': 118.05353790828777, 'count': 34182.0},
    {'lat': 24.50062235632821, 'lng': 118.05654345886205, 'count': 43596.0},
    {'lat': 24.45341324486962, 'lng': 118.03877057418356, 'count': 29580.5},
    {'lat': 24.47504903392223, 'lng': 118.11925901734264, 'count': 67892.0},
    {'lat': 24.475171048447173, 'lng': 118.11968670059579, 'count': 72196.0},
    {'lat': 24.471803683210627, 'lng': 118.09674505584516, 'count': 62430.0},
    {'lat': 24.631469284564663, 'lng': 118.24653175042923, 'count': 25684.5},
    {'lat': 24.631389960058726, 'lng': 118.25048833704663, 'count': 27809.0},
    {'lat': 24.634224999428675, 'lng': 118.25496153916264, 'count': 24633.0},
    {'lat': 24.53090461581365,'lng': 118.11263122946166,'count': 42578.333333333336},
    {'lat': 24.53284478012516, 'lng': 118.11048939963493, 'count': 43070.0},
    {'lat': 24.502616013821545, 'lng': 118.13156661130023, 'count': 54247.0},
    {'lat': 24.482264211510813, 'lng': 118.16604474455896, 'count': 41915.0},
    {'lat': 24.547137271320757,'lng': 118.17065152470427,'count': 83242.14285714286},
    {'lat': 24.565969999069736, 'lng': 118.07129399465322, 'count': 37515.0},
    {'lat': 24.565299736722466, 'lng': 118.07026570433628, 'count': 34483.0},
    {'lat': 24.51269749765611, 'lng': 118.14540276191309, 'count': 61743.0},
    {'lat': 24.502480216288486, 'lng': 118.12958953070398, 'count': 58334.0},
    {'lat': 24.601405428896257, 'lng': 118.24770969844408, 'count': 34525.0},
    {'lat': 24.603678615161613, 'lng': 118.24858051580516, 'count': 27853.0},
    {'lat': 24.46903490158194,'lng': 118.08724376829981,'count': 61572.666666666664},
    {'lat': 24.743587243340944, 'lng': 118.15719445901648, 'count': 14622.0},
    {'lat': 24.586723415007796, 'lng': 118.03550685060578, 'count': 24363.25},
    {'lat': 24.47456747003725, 'lng': 118.12708092273765, 'count': 57079.0},
    {'lat': 24.524356008675337, 'lng': 118.11880303746592, 'count': 37072.0},
    {'lat': 24.736642456574916, 'lng': 118.13851401628156, 'count': 21179.0},
    {'lat': 24.473002395099794, 'lng': 118.11178502567154, 'count': 74708.0},
    {'lat': 24.500376486404004, 'lng': 118.12460743851673, 'count': 66503.0},
    {'lat': 24.49232366940333, 'lng': 118.12740835509591, 'count': 44809.75},
    {'lat': 24.498311028316927, 'lng': 118.12409297895135, 'count': 62717.0},
    {'lat': 24.725963816268997, 'lng': 118.17307838686922, 'count': 18675.0},
    {'lat': 24.49386203046979, 'lng': 118.11870898487906, 'count': 79995.0},
    {'lat': 24.50410722866766, 'lng': 118.16668020587652, 'count': 58225.0},
    {'lat': 24.506486509949262, 'lng': 118.13691646976315, 'count': 47388.5},
    {'lat': 24.479400537308432, 'lng': 118.11621142607049, 'count': 68112.0},
    {'lat': 24.74758769958404, 'lng': 118.15367238277412, 'count': 22605.0},
    {'lat': 24.481525560554537, 'lng': 118.14787906232178, 'count': 36851.0},
    {'lat': 24.729759390252983, 'lng': 118.1533931894217, 'count': 11651.0},
    {'lat': 24.495757066529706, 'lng': 118.11818697954739, 'count': 31916.0},
    {'lat': 24.504825004553194, 'lng': 118.19670903194579, 'count': 57175.0},
    {'lat': 24.472818054534184, 'lng': 118.09355696959129, 'count': 54305.0},
    {'lat': 24.522411931038643, 'lng': 118.10337760474533, 'count': 31357.0},
    {'lat': 24.497937325198045, 'lng': 118.13828665515706, 'count': 48403.0},
    {'lat': 24.492629074185587, 'lng': 118.08820010434542, 'count': 50674.0},
    {'lat': 24.49881798365625, 'lng': 118.15710498778772, 'count': 48322.0},
    {'lat': 24.507612059759452, 'lng': 118.16375101127055, 'count': 37800.0},
    {'lat': 24.675727369374293, 'lng': 118.19700619140839, 'count': 23962.5},
    {'lat': 24.47624195920981, 'lng': 118.12902871857429, 'count': 59188.5},
    {'lat': 24.4726249981987, 'lng': 118.11464145753123, 'count': 52718.0},
    {'lat': 24.502677829598593, 'lng': 118.13980577960447, 'count': 51613.0},
    {'lat': 24.691687662158426, 'lng': 118.1185867254992, 'count': 51617.0},
    {'lat': 24.50157204592244, 'lng': 118.03908920314782, 'count': 32764.0},
    {'lat': 24.478364514109803, 'lng': 118.11333460267575, 'count': 54712.0},
    {'lat': 24.48163345410032, 'lng': 118.11790751670333, 'count': 62153.0},
    {'lat': 24.480241451947524, 'lng': 118.15043776429486, 'count': 40439.5},
    {'lat': 24.50101043688747, 'lng': 118.19537962962201, 'count': 46662.0},
    {'lat': 24.60242802291325, 'lng': 118.03192997772733, 'count': 20506.0},
    {'lat': 24.72947524729097, 'lng': 118.17517341497889, 'count': 12356.0},
    {'lat': 24.71484867038361, 'lng': 118.15093156283353, 'count': 17460.0},
    {'lat': 24.476483025912884, 'lng': 118.12420329086792, 'count': 51765.0},
    {'lat': 24.721325816776005, 'lng': 118.1666331346678, 'count': 25309.0},
    {'lat': 24.740034864942128, 'lng': 118.1533230317614, 'count': 22840.0},
    {'lat': 24.49965325938168, 'lng': 118.04154687719176, 'count': 29339.0},
    {'lat': 24.565140016893412, 'lng': 118.2338250393337, 'count': 26070.0},
    {'lat': 24.74685229878934, 'lng': 118.15194853450103, 'count': 22858.0},
    {'lat': 24.482067305702092, 'lng': 118.13168860118844, 'count': 55094.0},
    {'lat': 24.4670651268322, 'lng': 118.10769234576944, 'count': 82300.0},
    {'lat': 24.495283556842097, 'lng': 118.03799084500115, 'count': 32253.0},
    {'lat': 24.558994755224518, 'lng': 118.05044683902894, 'count': 22567.0},
    {'lat': 24.444827833559394, 'lng': 118.09793373771254, 'count': 77121.0},
    {'lat': 24.622116853677714, 'lng': 118.26080708260578, 'count': 23150.0},
    {'lat': 24.612504434156584, 'lng': 118.24758079160345, 'count': 24602.0},
    {'lat': 24.485406605176305, 'lng': 118.09643549976651, 'count': 31754.0},
    {'lat': 24.489117737126374, 'lng': 118.13059931592741, 'count': 48703.0},
    {'lat': 24.49449173939169, 'lng': 118.1399147440628, 'count': 57905.0},
    {'lat': 24.523026537040952, 'lng': 118.10599760259487, 'count': 30098.0},
    {'lat': 24.73302382826549, 'lng': 118.14858536850335, 'count': 16435.0},
    {'lat': 24.45124667968377, 'lng': 118.09174059585072, 'count': 70884.0},
    {'lat': 24.73401669713416, 'lng': 118.14889833814293, 'count': 13962.0},
    {'lat': 24.484442980204662, 'lng': 118.0834159986925, 'count': 44202.0},
    {'lat': 24.493520539467756, 'lng': 118.14370217975271, 'count': 50751.0},
    {'lat': 24.69622894665055, 'lng': 118.12024616526723, 'count': 53573.5},
    {'lat': 24.484018016014375, 'lng': 118.14439414448682, 'count': 45543.0},
    {'lat': 24.49543498149038, 'lng': 118.14816936322181, 'count': 47339.0},
    {'lat': 24.49714667552227, 'lng': 118.13839957215963, 'count': 47714.5},
    {'lat': 24.617292628567, 'lng': 118.00910394489578, 'count': 25807.5},
    {'lat': 24.6167200457661, 'lng': 118.00793399179997, 'count': 27412.5},
    {'lat': 24.589761470844717, 'lng': 118.05830081393063, 'count': 37464.25},
    {'lat': 24.517436781577917, 'lng': 118.14630439115317, 'count': 50981.0},
    {'lat': 24.51319009241754, 'lng': 118.13946918453, 'count': 33889.0},
    {'lat': 24.47602342016485, 'lng': 118.11494804920167, 'count': 60600.5},
    {'lat': 24.521271556803477, 'lng': 118.12271201389132, 'count': 37022.0}
 
 
];//这里面添加经纬度
 
 
    if(!isSupportCanvas()){
        alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
    //详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
    //参数说明如下:
    /* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *  {
            .2:'rgb(0, 255, 255)',
            .5:'rgb(0, 110, 255)',
            .8:'rgb(100, 0, 255)'
        }
        其中 key 表示插值的位置, 0~1.
            value 为颜色值.
     */
    heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":15,"visible":true});
    map.addOverlay(heatmapOverlay);
    heatmapOverlay.setDataSet({data:points,max:60000});
	
    //closeHeatmap();
	
	
 
    //判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
 
    function setGradient(){
        /*格式如下所示:
        {
            0:'rgb(102, 255, 0)',
            .5:'rgb(255, 170, 0)',
            1:'rgb(255, 0, 0)'
        }*/
        var gradient = {};
        var colors = document.querySelectorAll("input[type='color']");
        colors = [].slice.call(colors,0);
        colors.forEach(function(ele){
            gradient[ele.getAttribute("data-key")] = ele.value;
        });
        heatmapOverlay.setOptions({"gradient":gradient});
    }
 
    function openHeatmap(){
        heatmapOverlay.show();
    }
 
    function closeHeatmap(){
        heatmapOverlay.hide();
    }
</script>
</body>
</html>